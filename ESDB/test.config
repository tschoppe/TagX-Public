input {
	file{
		path => "/Users/tylerschoppe/Documents/School/CS/TagX/ESDB/Systems.csv"
		start_position => "beginning"
		sincedb_path => "/dev/null"
		codec => plain {
                    charset => "ISO-8859-1"
            }
	}
}
filter{
	csv{
		separator => ","
		columns => ["companyName", "systemName", "serialNumber", "productFamily", "model", "osVersion", "patches", "cpgCount", "recommended.osVersion", "location.region", "location.country", "installDate", "updated", "capcity.total.freePct", "capacity.total.freeTiB", "capacity.total.sizeTiB", "capacity.total.dedupeRatio", "nodes.nodeCount", "nodes.nodeCountOffline", "disks.total.diskCount", "disks.total.diskCountNormal", "disks.total.diskCountDegraded", "disks.total.diskCountFailed", "contractStartDate", "contractEndDate", "batteryExpiry", "sp.spVersion", "vvCount", "tpvvCount", "vvCountFull", "tdvvSizeTiB", "performance.portBandwidthData.total.dataRateKBPSAvg", "performance.portBandwidthData.total.iopsAvg", "performance.portBandwidthData.total.iopsMax", "performance.summary.portInfo.totalServiceTimeMillis", "performance.summary.portInfo.readServiceTimeMillis", "performance.summary.portInfo.writeServiceTimeMillis", "performance.summary.delAckPct", "performance.summary.vvInfo.vvsByType.ssd.readBandwidthMBPS", "performance.summary.vvInfo.vvsByType.ssd.writeBandwidthMBPS", "performance.summary.vvInfo.vvsByType.ssd.readServiceTimeMillis", "performance.summary.vvInfo.vvsByType.ssd.writeServiceTimeMillis", "nodes.cpuAvgMax", "tags"]
	}
}

output{
	elasticsearch{
		hosts => ["tagx-3122626671.us-east-1.bonsaisearch.net:443"]
		user => "ct4pntszfp"
		password => "dwz5l5vzy2"
		ssl => true
		index => "devices"
		document_id => "%{serialNumber}"
	}
	stdout{}
}
